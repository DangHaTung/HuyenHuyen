<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Dear Thu Huyen</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes floatAnimation {
      0% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0); }
    }

    @keyframes scaleButton {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    * {
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      background: linear-gradient(135deg, #f8d9df 0%, #ffd1dc 100%);
      background-attachment: fixed;
      font-family: 'Arial', sans-serif;
      text-align: center;
      padding: 20px;
      margin: 0;
      overflow-x: hidden;
      overflow-y: auto;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    #mainImage {
      width: 150px;
      max-width: 80%;
      height: auto;
      transition: all 0.3s ease;
      margin: 0 auto;
      animation: fadeIn 1s ease, floatAnimation 3s ease-in-out infinite;
      filter: drop-shadow(0 5px 15px rgba(0,0,0,0.1));
      will-change: transform, opacity;
      transform: translateZ(0);
    }

    #question {
      font-size: 22px;
      font-weight: bold;
      background: linear-gradient(45deg, #4d3b4c, #6d5b6c);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin: 20px 0;
      padding: 0 10px;
      animation: fadeIn 1s ease 0.3s backwards;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
      line-height: 1.5;
    }

    .buttons {
      margin-top: 20px;
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
      padding: 0 10px;
      animation: fadeIn 1s ease 0.6s backwards;
    }

    button {
      font-size: 18px;
      padding: 12px 30px;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s ease;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      position: relative;
      overflow: hidden;
      color: white;
      will-change: transform;
      transform: translateZ(0);
    }

    button:active {
      transform: translateY(2px) translateZ(0);
    }

    #yes {
      background: linear-gradient(45deg, #d96f85, #e88a9d);
      background-color: #d96f85;
      animation: scaleButton 2s infinite;
    }

    #no {
      background: linear-gradient(45deg, #5b7cb5, #7b9cd5);
      background-color: #5b7cb5;
    }

    button:before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        120deg,
        transparent,
        rgba(255,255,255,0.3),
        transparent
      );
      transition: left 0.5s ease;
      pointer-events: none;
    }

    button:hover:before {
      left: 100%;
    }

    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      pointer-events: none;
    }

    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      50% { transform: translateX(5px); }
      75% { transform: translateX(-5px); }
      100% { transform: translateX(0); }
    }

    .shake {
      animation: shake 0.3s;
    }

    /* TIM R∆†I */
    .heart {
      position: fixed;
      width: 20px;
      height: 20px;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      animation: fall linear infinite;
      pointer-events: none;
      z-index: 999;
      will-change: transform, opacity;
      transform: translateZ(0);
    }

    @keyframes fall {
      0% {
        transform: translateY(-50px) translateZ(0) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) translateZ(0) rotate(360deg);
        opacity: 0;
      }
    }

    .heart.gathering {
      position: fixed !important;
      transition: transform 4s ease-in-out, opacity 4s ease-in-out;
      animation: none !important;
    }

    #content {
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
      padding: 20px 0;
    }

    /* Responsive styles */
    @media (max-width: 768px) {
      body {
        padding: 15px;
      }

      #content {
        padding: 15px 0;
      }

      #question {
        font-size: 18px;
        margin: 15px 0;
      }

      #mainImage {
        width: 120px;
      }

      button {
        font-size: 16px;
        padding: 10px 25px;
      }

      .buttons {
        gap: 15px;
      }

      .heart {
        width: 15px;
        height: 15px;
      }

      h1 {
        font-size: 20px !important;
        padding: 0 15px;
      }

      img[src*="hug.png"],
      img[src*="ngociu.jpg"],
      img[src*="honsangtrai.png"],
      img[src*="anh.jpg"] {
        width: 90% !important;
        margin: 15px auto !important;
        display: block;
      }
    }

    @media (max-width: 480px) {
      #question {
        font-size: 16px;
      }

      button {
        font-size: 14px;
        padding: 8px 20px;
      }

      .buttons {
        flex-direction: column;
        align-items: center;
        gap: 10px;
      }

      #yes,
      #no {
        width: 100%;
        max-width: 200px;
      }
    }
  </style>
</head>
<body>

  <div id="content">
    <img id="mainImage" src="image/heart.png" alt="start" />
    <div id="question">Thu Huyen oiiii</div>
    <div id="question">Ch·ªã c√≥ y√™u anh kh√¥ng?</div>
    <div class="buttons">
      <button id="yes">c√≥oo</button>
      <button id="no">kh√¥ng</button>
    </div>
  </div>

  <script>
    const yesBtn = document.getElementById("yes");
    const noBtn = document.getElementById("no");
    const mainImage = document.getElementById("mainImage");

    // T·∫°o audio elements
    const romanticAudio = new Audio('audio/nhaclanman.mp3');
    const nhaclanmanAudio = new Audio('audio/khoctiengman.mp3');
    
    romanticAudio.volume = 0.5;
    nhaclanmanAudio.volume = 0.3;

    let index = 0;
    let yesScale = 1;
    
    // Th√™m hi·ªáu ·ª©ng hover cho n√∫t No
    noBtn.addEventListener('mouseenter', () => {
      nhaclanmanAudio.currentTime = 0;
      nhaclanmanAudio.play();
    });
    
    noBtn.addEventListener('mouseleave', () => {
      nhaclanmanAudio.pause();
    });

    const imageLinks = [
      "image/heart.png",
      "image/shocked.png",
      "image/think.png",
      "image/angry.png",
      "image/crying.png",
      "image/crying.png",
      "image/crying.png",
      "image/crying.png"
    ];

    const messages = [
      "kh√¥ng",
      "em nghi√™m t√∫c ch·ª©‚Ä¶",
      "Nghƒ© l·∫°i ƒëi m√†?",
      "Kh√¥ng ƒë∆∞·ª£c ch·ªçn c√°i n√†y!",
      "anh s·∫Ω bu·ªìn l·∫Øm ƒë√≥‚Ä¶",
      "Kh√¥ng ƒë∆∞·ª£c ƒë√¢u :(",
      "Th·∫≠t s·ª± kh√¥ng y√™u √†‚Ä¶",
      "anh s·∫Ω kh√≥c ƒë·∫•yüò≠",
      "Kh√¥ng th·ªÉ ƒë√¢u‚Ä¶ üò¢"
    ];

    // Danh s√°ch ·∫£nh ƒë·ªÉ tim r∆°i ƒëan xen
    const heartImages = [
      "image/HuyenTuSuong.jpg",
      "image/anh.jpg"
    ];

    // L∆∞u t·∫•t c·∫£ heart v√† interval
    const activeHearts = [];
    let heartInterval = null;

    // Tim r∆°i random
    function createHeart() {
      const heart = document.createElement("div");
      heart.className = "heart";

      // random ch·ªçn ·∫£nh
      const randomImg = heartImages[Math.floor(Math.random() * heartImages.length)];
      heart.style.backgroundImage = `url('${randomImg}')`;

      // random v·ªã tr√≠
      heart.style.left = Math.random() * 100 + "vw";

      // random t·ªëc ƒë·ªô
      heart.style.animationDuration = 2 + Math.random() * 3 + "s";

      // random k√≠ch th∆∞·ªõc
      const size = 15 + Math.random() * 25;
      heart.style.width = size + "px";
      heart.style.height = size + "px";

      document.body.appendChild(heart);
      activeHearts.push(heart);

      setTimeout(() => {
        const index = activeHearts.indexOf(heart);
        if (index > -1) {
          activeHearts.splice(index, 1);
        }
        if (heart.parentNode) {
          heart.remove();
        }
      }, 5000);
    }

    // Function ƒë·ªÉ t·ª• t·∫•t c·∫£ heart v·ªÅ m·ªôt ƒëi·ªÉm
    function gatherHearts() {
      // D·ª´ng t·∫°o heart m·ªõi
      if (heartInterval) {
        clearInterval(heartInterval);
        heartInterval = null;
      }

      // L·∫•y v·ªã tr√≠ c·ªßa mainImage (ƒëi·ªÉm t·ª•) - t·ªça ƒë·ªô viewport
      const mainImageRect = mainImage.getBoundingClientRect();
      const targetX = mainImageRect.left + mainImageRect.width / 2;
      const targetY = mainImageRect.top + mainImageRect.height / 2;

      // L·∫•y t·∫•t c·∫£ heart ƒëang t·ªìn t·∫°i
      const allHearts = document.querySelectorAll('.heart');
      
      allHearts.forEach(heart => {
        const heartRect = heart.getBoundingClientRect();
        const currentX = heartRect.left + heartRect.width / 2;
        const currentY = heartRect.top + heartRect.height / 2;
        
        // T√≠nh to√°n kho·∫£ng c√°ch c·∫ßn di chuy·ªÉn
        const deltaX = targetX - currentX;
        const deltaY = targetY - currentY;

        // G·ª° animation fall hi·ªán t·∫°i v√† ƒë·∫∑t l·∫°i v·ªã tr√≠ c·ªë ƒë·ªãnh
        heart.style.animation = 'none';
        heart.style.left = currentX + 'px';
        heart.style.top = currentY + 'px';
        heart.style.transform = 'translateZ(0)';
        heart.style.opacity = '1';
        
        // Th√™m class gathering ƒë·ªÉ c√≥ transition
        heart.classList.add('gathering');
        
        // ƒê·ª£i frame ti·∫øp theo ƒë·ªÉ ƒë·∫£m b·∫£o transition ho·∫°t ƒë·ªông
        requestAnimationFrame(() => {
          requestAnimationFrame(() => {
            // √Åp d·ª•ng transform ƒë·ªÉ di chuy·ªÉn v·ªÅ ƒëi·ªÉm t·ª•
            heart.style.transform = `translate(${deltaX}px, ${deltaY}px) translateZ(0) scale(0)`;
            heart.style.opacity = '0';
          });
        });

        // X√≥a heart sau khi animation ho√†n th√†nh
        setTimeout(() => {
          if (heart.parentNode) {
            heart.remove();
          }
        }, 4000);
      });
    }

    // B·∫Øt ƒë·∫ßu t·∫°o heart
    heartInterval = setInterval(createHeart, 300);

    noBtn.addEventListener("click", () => {
      if (index < imageLinks.length) {
        mainImage.src = imageLinks[index];
        noBtn.textContent = messages[index];
        index++;
      } else {
        noBtn.textContent = "üò¢ ƒê·ª´ng m√†...";
      }

      yesScale += 0.3;
      yesBtn.style.transform = `scale(${yesScale})`;

      noBtn.classList.add('shake');
      setTimeout(() => noBtn.classList.remove('shake'), 300);
    });

    yesBtn.addEventListener("click", () => {
      // Ph√°t nh·∫°c romantic
      romanticAudio.play();
      
      // V√¥ hi·ªáu h√≥a c√°c n√∫t trong th·ªùi gian ch·ªù
      yesBtn.disabled = true;
      noBtn.disabled = true;
      
      // T·ª• t·∫•t c·∫£ heart v·ªÅ mainImage
      gatherHearts();
      
      // ƒê·ª£i 4 gi√¢y tr∆∞·ªõc khi chuy·ªÉn trang
      setTimeout(() => {
        // Hi·ªáu ·ª©ng chuy·ªÉn trang v·ªõi tim
        document.body.innerHTML = `
          <div style="text-align:center; padding: 20px; position: relative; animation: fadeIn 1s ease;">
            <h1 style="color:#4d3b4c; font-size: 28px; margin: 20px 0; padding: 0 15px; animation: fadeIn 1s ease, floatAnimation 3s ease-in-out infinite;">
              y√™u theeee! Anh y√™u ch·ªã nhi·ªÅuuu‚ô°
            </h1>
            <div style="display: flex; flex-direction: column; align-items: center; gap: 20px;">
              <img src="image/hug.png" style="width:300px; max-width: 90%; animation: fadeIn 1s ease 0.3s backwards, floatAnimation 3s ease-in-out infinite;">
              <img src="image/HuyenNgau.jpg" style="width:300px; max-width: 90%; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); animation: fadeIn 1s ease 0.6s backwards;">
            </div>
          </div>
        `;
      }, 4000);
    });
  </script>

</body>
</html>
